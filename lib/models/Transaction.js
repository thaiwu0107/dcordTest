"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const log4js = require("koa-log4");
require("reflect-metadata");
const _1 = require(".");
const _log = log4js.getLogger('Transaction');
class Transaction {
    constructor(daoTransName) {
        this.daoTransName = daoTransName;
        this.trans = _1.GamaContext.getContext().getBean(this.daoTransName);
    }
    async begin() {
        return this.trans.begin();
    }
    async commit() {
        return this.trans.commit();
    }
    async rollback() {
        return this.trans.rollback();
    }
    getDao(tableName) {
        return this.trans.getDao(tableName);
    }
}
exports.default = Transaction;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJhbnNhY3Rpb24uanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2dndHRvbzQ0L0Rlc2t0b3AvYmFzZUFQSS9zcmMvIiwic291cmNlcyI6WyJtb2RlbHMvVHJhbnNhY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtQ0FBbUM7QUFDbkMsNEJBQTBCO0FBQzFCLHdCQUE4QztBQUU5QyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBRTdDO0lBRUksWUFBb0IsWUFBZTtRQUFmLGlCQUFZLEdBQVosWUFBWSxDQUFHO1FBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsY0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUNNLEtBQUssQ0FBQyxLQUFLO1FBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFDTSxLQUFLLENBQUMsTUFBTTtRQUNmLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBQ00sS0FBSyxDQUFDLFFBQVE7UUFDakIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFDTSxNQUFNLENBQUMsU0FBaUI7UUFDM0IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4QyxDQUFDO0NBQ0o7QUFqQkQsOEJBaUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbG9nNGpzIGZyb20gJ2tvYS1sb2c0JztcbmltcG9ydCAncmVmbGVjdC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBHYW1hQ29udGV4dCwgSVRyYW5zYWN0aW9uIH0gZnJvbSAnLic7XG5cbmNvbnN0IF9sb2cgPSBsb2c0anMuZ2V0TG9nZ2VyKCdUcmFuc2FjdGlvbicpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2FjdGlvbjxUPiBpbXBsZW1lbnRzIElUcmFuc2FjdGlvbiB7XG4gICAgcHJpdmF0ZSB0cmFuczogYW55O1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGFvVHJhbnNOYW1lOiBUKSB7XG4gICAgICAgIHRoaXMudHJhbnMgPSBHYW1hQ29udGV4dC5nZXRDb250ZXh0KCkuZ2V0QmVhbih0aGlzLmRhb1RyYW5zTmFtZSk7XG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBiZWdpbigpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFucy5iZWdpbigpO1xuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgY29tbWl0KCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zLmNvbW1pdCgpO1xuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgcm9sbGJhY2soKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnMucm9sbGJhY2soKTtcbiAgICB9XG4gICAgcHVibGljIGdldERhbyh0YWJsZU5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zLmdldERhbyh0YWJsZU5hbWUpO1xuICAgIH1cbn1cbiJdfQ==